<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add reduced dimension coordinates to an NG-CHM. — chmAddReducedDim • NGCHMR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add reduced dimension coordinates to an NG-CHM. — chmAddReducedDim"><meta name="description" content="Add (reduced) dimension coordinates from an object obj
as hidden covariate bars to an axis of an NG-CHM.  Depending on the object type, dimName and dimAxis
can be used to specify the name of the dimension of interest in obj."><meta property="og:description" content="Add (reduced) dimension coordinates from an object obj
as hidden covariate bars to an axis of an NG-CHM.  Depending on the object type, dimName and dimAxis
can be used to specify the name of the dimension of interest in obj."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    <script> function openIframeInNewTab(cssSelector) { let iframe = document.querySelector(cssSelector); let url = iframe.src; window.open(url, '_blank'); } </script><nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">NGCHMR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/Installation.html">Installation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Getting Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/color-maps.html">Color Maps</a></li>
    <li><a class="dropdown-item" href="../articles/data-layers.html">Data Layers</a></li>
    <li><a class="dropdown-item" href="../articles/ordering-and-clustering.html">Ordering and Clustering</a></li>
    <li><a class="dropdown-item" href="../articles/adding-linkouts.html">Adding Linkouts</a></li>
    <li><a class="dropdown-item" href="../articles/umap.html">UMAP</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-video-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Video Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-video-tutorials"><li><a class="external-link dropdown-item" href="https://www.youtube.com/playlist?list=PLIBaINv-Qmd0v2qD4AMbGf85Xd-T_yzEh">Playlist: NG-CHMs in R/R-Studio</a></li>
    <li><a class="external-link dropdown-item" href="https://www.youtube.com/watch?v=O42w5P3A1_8&amp;list=PLIBaINv-Qmd0v2qD4AMbGf85Xd-T_yzEh">How to create NG-CHMs in R-Studio</a></li>
    <li><a class="external-link dropdown-item" href="https://www.youtube.com/watch?v=847breSor1I&amp;list=PLIBaINv-Qmd0v2qD4AMbGf85Xd-T_yzEh">How to use any ordering method with NG-CHMs</a></li>
    <li><a class="external-link dropdown-item" href="https://www.youtube.com/watch?v=K8PuHDQYk-g&amp;list=PLIBaINv-Qmd0v2qD4AMbGf85Xd-T_yzEh">How to create a single-cell NG-CHM in R</a></li>
    <li><a class="external-link dropdown-item" href="https://www.youtube.com/watch?v=iu0ptg9SBqM&amp;list=PLIBaINv-Qmd0v2qD4AMbGf85Xd-T_yzEh">Run NG-CHM RStudio container in Windows 10 Docker Desktop</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MD-Anderson-Bioinformatics/NGCHM-R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add reduced dimension coordinates to an NG-CHM.</h1>
      <small class="dont-index">Source: <a href="https://github.com/MD-Anderson-Bioinformatics/NGCHM-R/blob/main/R/functions.R" class="external-link"><code>R/functions.R</code></a></small>
      <div class="d-none name"><code>chmAddReducedDim.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add (reduced) dimension coordinates from an object obj
as hidden covariate bars to an axis of an NG-CHM.  Depending on the object type, dimName and dimAxis
can be used to specify the name of the dimension of interest in obj.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">chmAddReducedDim</span><span class="op">(</span><span class="va">hm</span>, <span class="va">axis</span>, <span class="va">obj</span>, <span class="va">dimName</span>, <span class="va">maxDim</span>, <span class="va">basename</span>, <span class="va">dimAxis</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-hm">hm<a class="anchor" aria-label="anchor" href="#arg-hm"></a></dt>
<dd><p>The NGCHM to add the coordinates to.</p></dd>


<dt id="arg-axis">axis<a class="anchor" aria-label="anchor" href="#arg-axis"></a></dt>
<dd><p>The NGCHM axis ("row" or "column") to add the coordinates to.</p></dd>


<dt id="arg-obj">obj<a class="anchor" aria-label="anchor" href="#arg-obj"></a></dt>
<dd><p>An object containing the (reduced) dimension.</p></dd>


<dt id="arg-dimname">dimName<a class="anchor" aria-label="anchor" href="#arg-dimname"></a></dt>
<dd><p>The name of the (reduced) dimension to create covariate bars for.</p></dd>


<dt id="arg-maxdim">maxDim<a class="anchor" aria-label="anchor" href="#arg-maxdim"></a></dt>
<dd><p>The maximum number of coordinates to add (default all).</p></dd>


<dt id="arg-basename">basename<a class="anchor" aria-label="anchor" href="#arg-basename"></a></dt>
<dd><p>The prefix to use for the coordinate names (defaults to dimName).</p></dd>


<dt id="arg-dimaxis">dimAxis<a class="anchor" aria-label="anchor" href="#arg-dimaxis"></a></dt>
<dd><p>The axis on obj containing the named dimension, if applicable.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The NGCHM with added coordinates.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>One hidden covariate bar is added for each coordinate obtained from <code>obj</code>.
If specified, maxDim limits the maximum number of covariate bars added to the chm.</p>
<p>Coordinates have names 'BASENAME.coordinate.N', where BASENAME is specified by the parameter
basename (defaults to dimName if omitted) and N ranges from 1 to the number of added covariate bars.</p>
<p><code>obj</code> can be a numeric matrix, each column of which is a (reduced) dimension.  In this case, dimName and dimAxis
are not used for obtaining the reduced dimension.  The number of rows of the matrix must equal the size of the specified
NGCHM axis and each row of the matrix must be uniquely named using the names from that axis of the NG-CHM.</p>
<p><code>obj</code> can also be an instance of class className if there exists an S3 method getDimensions.className.
The method takes the object as its first parameter and up to two optional parameters, dimName and dimAxis,
that can be used to specify the desired dimension.  The method's return value is a matrix similar to
the one described in the preceding paragraph.  This package defines methods for classes <code>prcomp</code> and <code>umap</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="chmAddPCA.html">chmAddPCA()</a></code></p>
<p><code><a href="chmAddTSNE.html">chmAddTSNE()</a></code></p>
<p><code><a href="chmAddUMAP.html">chmAddUMAP()</a></code></p>
<p><code><a href="chmAddUWOT.html">chmAddUWOT()</a></code></p>
<p><code><a href="getDimensions-method.html">getDimensions()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Examples using `chmNew()` require git to be installed.</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"NGCHMDemoData"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">TCGA.GBM.EXPR</span>, package <span class="op">=</span> <span class="st">"NGCHMDemoData"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">mat</span> <span class="op">&lt;-</span> <span class="va">TCGA.GBM.EXPR</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></span>
<span class="r-in"><span>    <span class="va">prc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html" class="external-link">prcomp</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">hm</span> <span class="op">&lt;-</span> <span class="fu"><a href="chmNew.html">chmNew</a></span><span class="op">(</span><span class="st">"Demo reduced dimension coordinates"</span>, <span class="va">mat</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">hm</span> <span class="op">&lt;-</span> <span class="fu">chmAddReducedDim</span><span class="op">(</span><span class="va">hm</span>, <span class="st">"column"</span>, <span class="va">prc</span>, <span class="st">"PCA"</span>, <span class="fl">3</span>, <span class="st">"PC"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">umc</span> <span class="op">&lt;-</span> <span class="fu">umap</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/umap/man/umap.html" class="external-link">umap</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span>, n_neighbors <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">hm</span> <span class="op">&lt;-</span> <span class="fu">chmAddReducedDim</span><span class="op">(</span><span class="va">hm</span>, <span class="st">"column"</span>, <span class="va">umc</span>, <span class="st">"UMAP"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="co"># Small example not requiring NGCHMDemoData</span></span></span>
<span class="r-in"><span>  <span class="va">matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    nrow <span class="op">=</span> <span class="fl">10</span>, ncol <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>    dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">prc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html" class="external-link">prcomp</a></span><span class="op">(</span><span class="va">matrix</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">hm</span> <span class="op">&lt;-</span> <span class="fu"><a href="chmNew.html">chmNew</a></span><span class="op">(</span><span class="st">"Demo reduced dimension coordinates"</span>, <span class="va">matrix</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">hm</span> <span class="op">&lt;-</span> <span class="fu">chmAddReducedDim</span><span class="op">(</span><span class="va">hm</span>, <span class="st">"column"</span>, <span class="va">prc</span>, <span class="st">"PCA"</span>, <span class="fl">3</span>, <span class="st">"PC"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">umc</span> <span class="op">&lt;-</span> <span class="fu">umap</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/umap/man/umap.html" class="external-link">umap</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">matrix</span><span class="op">)</span>, n_neighbors <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">hm</span> <span class="op">&lt;-</span> <span class="fu">chmAddReducedDim</span><span class="op">(</span><span class="va">hm</span>, <span class="st">"column"</span>, <span class="va">umc</span>, <span class="st">"UMAP"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bradley M Broom, Mary A Rohrdanz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>



  <script> /* open external links in new tab */ (function() { for (const link of document.getElementsByTagName('a')) { if (link.classList.contains('external-link')) link.target = '_blank'; } })(); </script></body></html>

